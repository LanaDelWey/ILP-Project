<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Create Profile — TATA FRIENDS</title>

  <!-- Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <main class="container">
    <aside class="brand">
      <img src="tata-friends-logo.png" alt="TATA FRIENDS" class="brand__logo">
      <h1 class="brand__title">Create Profile</h1>
      <p class="brand__subtitle">Complete the information to create your corporate account.</p>
      <div class="brand__accent" aria-hidden="true"></div>
    </aside>

    <section class="form-card" aria-labelledby="form-title">
      <h2 id="form-title" class="form-card__title">User Information</h2>

      <form id="profileForm" class="profile-form" novalidate>
        
        <!-- Profile Photo -->
        <div class="field field--photo">
          <label for="photo" class="photo-label">Profile Picture</label>
          <div class="photo-preview" id="photoPreview" title="Preview">
            <img id="previewImg" src="assets/avatar-placeholder.png" alt="Profile picture preview" />
            <button type="button" id="removePhoto" class="btn ghost small" aria-label="Remove photo" title="Remove photo">✕</button>
          </div>
          <input type="file" id="photo" name="photo" accept="image/*" class="file-input" />
          <small class="hint">PNG or JPG. Recommended size: 400×400px.</small>
        </div>

        <!-- First Name -->
        <div class="field">
          <label for="firstName">First Name</label>
          <input
            id="firstName"
            name="firstName"
            type="text"
            placeholder="e.g. Ana María"
            required
          />
        </div>

        <!-- Last Name -->
        <div class="field">
          <label for="lastName">Last Name</label>
          <input
            id="lastName"
            name="lastName"
            type="text"
            placeholder="e.g. Pérez López"
            required
          />
        </div>

        <!-- Corporate Email -->
        <div class="field">
          <label for="email">Corporate Email</label>
          <input
            id="email"
            name="email"
            type="email"
            placeholder="yourEmployee.ID@tcs.com"
            required
          />
          <small class="hint">Use your corporate email address.</small>
        </div>

        <!-- Hobbies -->
        <div class="field">
          <label for="hobbies">Hobbies (comma separated)</label>
          <input
            id="hobbies"
            name="hobbies"
            type="text"
            placeholder="Reading, football, photography"
          />
        </div>

        <!-- Work Location / Department -->
        <div class="field">
          <label for="location">Work Location / Department</label>
          <input
            id="location"
            name="location"
            type="text"
            placeholder="e.g. Tata 4"
          />
        </div>

        <!-- Actions -->
        <div class="actions">
          <button type="submit" class="btn primary">Create Profile</button>
          <button type="button" class="btn ghost" id="cancelBtn">Cancel</button>
        </div>

        <p class="disclaimer">
          By creating your profile, you agree to the company’s internal privacy policy.
        </p>
      </form>
    </section>
  </main>

  <script>
    // Image preview handling
    const photoInput = document.getElementById('photo');
    const previewImg = document.getElementById('previewImg');
    const removePhotoBtn = document.getElementById('removePhoto');
    const defaultSrc = previewImg.getAttribute('src');

    photoInput.addEventListener('change', (e) => {
      const file = e.target.files[0];
      if (!file || !file.type.startsWith('image/')) return;

      const reader = new FileReader();
      reader.onload = () => previewImg.src = reader.result;
      reader.readAsDataURL(file);
    });

    removePhotoBtn.addEventListener('click', () => {
      previewImg.src = defaultSrc;
      photoInput.value = '';
    });

    // Form validation and demo submit
    const form = document.getElementById('profileForm');
    form.addEventListener('submit', (e) => {
      e.preventDefault();

      if (!form.checkValidity()) {
        form.reportValidity();
        return;
      }

      const data = {
        firstName: form.firstName.value.trim(),
        lastName: form.lastName.value.trim(),
        email: form.email.value.trim(),
        hobbies: form.hobbies.value
          .split(',')
          .map(h => h.trim())
          .filter(Boolean),
        location: form.location.value.trim()
      };

      console.log('Valid form data:', data);
      alert('Profile successfully created (demo). Check the console for details.');
      // Here you would send the data to your backend
    });

    // Cancel action
    document.getElementById('cancelBtn').addEventListener('click', () => {
      if (confirm('Do you want to cancel profile creation? All changes will be lost.')) {
        form.reset();
        previewImg.src = defaultSrc;
      }
    });
  </script>
</body>
</html>
